"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[346],{5346:(fe,w,c)=>{c.r(w),c.d(w,{CheckoutModule:()=>v});var u=c(6895),p=c(202),s=c(433),e=c(1571),U=c(5132),S=c(9469),Q=c(3359),d=c(2138);function G(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"li",4)(1,"div",5)(2,"button",6),e.NdJ("click",function(){const a=e.CHM(r).index,l=e.oxw();return e.KtG(l.OnClick(a))}),e._uU(3),e.qZA()()()}if(2&o){const r=t.$implicit,n=t.index,i=e.oxw();e.xp6(2),e.ekj("active",i.selectedIndex===n),e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",r.label," ")}}function Y(o,t){if(1&o&&(e.TgZ(0,"div",7),e.GkF(1,8),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",r.selected.content)}}class m extends d.B8{constructor(){super(...arguments),this.linearModeSelected=!0}ngOnInit(){this.linear=this.linearModeSelected}OnClick(t){this.selectedIndex=t}}m.\u0275fac=function(){let o;return function(r){return(o||(o=e.n5z(m)))(r||m)}}(),m.\u0275cmp=e.Xpm({type:m,selectors:[["app-stepper"]],inputs:{linearModeSelected:"linearModeSelected"},features:[e._Bn([{provide:d.B8,useExisting:m}]),e.qOj],decls:4,vars:2,consts:[[1,"container"],[1,"nav","nav-pills","nav-justified"],["class","nav-item",4,"ngFor","ngForOf"],["class","",4,"ngIf"],[1,"nav-item"],[1,"d-grid"],[1,"nav-link","fw-bold","py-3","text-uppercase",3,"disabled","click"],[1,""],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"ul",1),e.YNc(2,G,4,4,"li",2),e.qZA(),e.YNc(3,Y,2,1,"div",3),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",r.steps),e.xp6(1),e.Q6J("ngIf",r.selected))},dependencies:[u.sg,u.O5,u.tP],styles:["button.nav-link[_ngcontent-%COMP%]{background:#e9ecef;border-radius:0;border:none;color:#333}button.nav-link[_ngcontent-%COMP%]:disabled:not(.active){color:#333;background:#e9ecef;border-radius:0}"]});var T=c(7185),O=c(5019);function D(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"h4"),e._uU(3,"Address"),e.qZA(),e.TgZ(4,"button",8),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.UpdateAddress())}),e._uU(5,"Make default address"),e.qZA()(),e.TgZ(6,"div",9)(7,"div",10),e._UZ(8,"app-text-inputs",11),e.qZA(),e.TgZ(9,"div",10),e._UZ(10,"app-text-inputs",12),e.qZA(),e.TgZ(11,"div",10),e._UZ(12,"app-text-inputs",13),e.qZA(),e.TgZ(13,"div",10),e._UZ(14,"app-text-inputs",14),e.qZA(),e.TgZ(15,"div",10),e._UZ(16,"app-text-inputs",15),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"app-text-inputs",16),e.qZA(),e.TgZ(19,"div",10),e._UZ(20,"app-text-inputs",17),e.qZA(),e.TgZ(21,"div",10),e._UZ(22,"app-text-inputs",18),e.qZA()()()}if(2&o){const r=e.oxw();let n;e.Q6J("formGroup",r.checkOutForm),e.xp6(4),e.Q6J("disabled",!(null!=(n=r.checkOutForm.get("addressForm"))&&n.valid&&null!=(n=r.checkOutForm.get("addressForm"))&&n.dirty)),e.xp6(4),e.Q6J("label","Firstname"),e.xp6(2),e.Q6J("label","Middlename (optional)"),e.xp6(2),e.Q6J("label","Lastname"),e.xp6(2),e.Q6J("label","Street Address"),e.xp6(2),e.Q6J("label","City"),e.xp6(2),e.Q6J("label","Country"),e.xp6(2),e.Q6J("label","Zipcode"),e.xp6(2),e.Q6J("label","Phone")}}class b{constructor(t,r){this.accountService=t,this.toastr=r,this.errors=null}UpdateAddress(){const t=this.checkOutForm?.get("addressForm")?.value;this.accountService.UpdateAddress(t).subscribe({next:()=>{this.toastr.success("Address updated succecssfully"),this.checkOutForm?.get("addressForm")?.reset(this.checkOutForm?.get("addressForm")?.value)},error:r=>{this.toastr.success("Address not updated"),this.errors=r.errors}})}}b.\u0275fac=function(t){return new(t||b)(e.Y36(U.N),e.Y36(T._W))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-checkout-address"]],inputs:{checkOutForm:"checkOutForm"},decls:8,vars:2,consts:[["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["routerLink","/basket",1,"btn","btn-danger"],[1,"fa","fa-angle-left"],["cdkStepperNext","",1,"btn","btn-danger",3,"disabled"],[1,"fa","fa-angle-right"],[1,"mt-4",3,"formGroup"],[1,"d-flex","justify-content-between","align-items-cetnter"],[1,"btn","bg-primary",3,"disabled","click"],["formGroupName","addressForm",1,"row","mt-3"],[1,"form-group","col-6"],["formControlName","firstName",3,"label"],["formControlName","middleName",3,"label"],["formControlName","lastName",3,"label"],["formControlName","street",3,"label"],["formControlName","city",3,"label"],["formControlName","country",3,"label"],["formControlName","zipcode",3,"label"],["formControlName","phone",3,"label"]],template:function(t,r){if(1&t&&(e.YNc(0,D,23,10,"div",0),e.TgZ(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e._uU(4," Go to basket "),e.qZA(),e.TgZ(5,"button",4),e._uU(6," Delivery "),e._UZ(7,"i",5),e.qZA()()),2&t){let n;e.Q6J("ngIf",r.checkOutForm),e.xp6(5),e.Q6J("disabled",null==(n=r.checkOutForm.get("addressForm"))?null:n.invalid)}},dependencies:[u.O5,p.rH,s.JJ,s.JL,s.sg,s.u,s.x0,O.x,d.st]});var N=c(529),M=c(2340),j=c(4004);class f{constructor(t){this.http=t,this.baseUrl=M.N.apiUrl}CreateAnOrder(t){const r=localStorage.getItem("token");let n=new N.WM;return n=n.set("Authorization",`Bearer ${r}`),this.http.post(this.baseUrl+"order",t,{headers:n})}GetDelivery(){return this.http.get(this.baseUrl+"order/delivery").pipe((0,j.U)(t=>t.sort((r,n)=>n.delPrice-r.delPrice)))}}function B(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",10)(1,"input",11),e.NdJ("click",function(){const a=e.CHM(r).$implicit,l=e.oxw(3);return e.KtG(l.setDeliveryPrice(a))}),e.qZA(),e.TgZ(2,"label",12)(3,"table")(4,"tr")(5,"td")(6,"strong",13),e._uU(7," Arrival date"),e.qZA()(),e.TgZ(8,"td")(9,"strong"),e._uU(10),e.qZA()()(),e.TgZ(11,"tr")(12,"td")(13,"strong",13),e._uU(14,"Price"),e.qZA()(),e.TgZ(15,"td"),e._uU(16),e.qZA()()()()()}if(2&o){const r=t.$implicit,n=e.oxw().ngIf;e.xp6(1),e.s9C("id",r.id),e.s9C("value",r.deliveryPrice),e.Q6J("checked",r.delPrice==n.deliveryPrice),e.xp6(1),e.s9C("for",r.id),e.xp6(8),e.Oqu(r.delTime),e.xp6(6),e.hij(" \xa3",r.delPrice," ")}}function L(o,t){if(1&o&&(e.ynx(0),e.YNc(1,B,17,6,"div",9),e.BQk()),2&o){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.deliverys)}}function R(o,t){if(1&o&&(e.TgZ(0,"div",6)(1,"div",7),e.YNc(2,L,2,1,"ng-container",8),e.ALo(3,"async"),e.qZA()()),2&o){const r=e.oxw();e.Q6J("formGroup",r.deliveryForm),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,r.basketService.basket$))}}f.\u0275fac=function(t){return new(t||f)(e.LFG(N.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});class y{constructor(t,r){this.checkoutService=t,this.basketService=r,this.deliverys=[]}ngOnInit(){this.getDelivery()}getDelivery(){this.checkoutService.GetDelivery().subscribe({next:t=>{this.deliverys=t}})}setDeliveryPrice(t){this.basketService.SetDelivery(t)}}y.\u0275fac=function(t){return new(t||y)(e.Y36(f),e.Y36(S.v))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-checkout-delivery"]],inputs:{deliveryForm:"deliveryForm"},decls:8,vars:1,consts:[["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-danger"],[1,"fa","fa-angle-left"],["cdkStepperNext","",1,"btn","btn-danger"],[1,"fa","fa-angle-right"],[1,"mt-4",3,"formGroup"],["formGroupName","deliveryForm",1,"row","mt-3"],[4,"ngIf"],["class","col-6 form-group",4,"ngFor","ngForOf"],[1,"col-6","form-group"],["name","delivery","type","radio",1,"form-check-input",3,"id","value","checked","click"],[1,"form-check-label","ms-2","mb-3",3,"for"],[2,"color","purple","margin","5px"]],template:function(t,r){1&t&&(e.YNc(0,R,4,4,"div",0),e.TgZ(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e._uU(4," Address "),e.qZA(),e.TgZ(5,"button",4),e._uU(6," Review "),e._UZ(7,"i",5),e.qZA()()),2&t&&e.Q6J("ngIf",r.deliveryForm)},dependencies:[u.sg,u.O5,s.JL,s.sg,s.x0,d.st,d.po,u.Ov]});var V=c(9802);class C{constructor(t,r){this.basketService=t,this.toastr=r,this.errors=null}CreatePaymentIntent(){this.basketService.CreatePaymentIntent().subscribe({next:()=>{this.toastr.success("Proceed with correct card details"),this.appStepper?.next()},error:t=>{this.toastr.success("PaymentIntent not created"),this.toastr.success("If failure persist, why not try to clear basket and re-select again"),this.errors=t.errors}})}}function E(o,t,r,n,i,a,l){try{var x=o[a](l),g=x.value}catch(me){return void r(me)}x.done?t(g):Promise.resolve(g).then(n,i)}function A(o){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=o.apply(t,r);function l(g){E(a,n,i,l,x,"next",g)}function x(g){E(a,n,i,l,x,"throw",g)}l(void 0)})}}C.\u0275fac=function(t){return new(t||C)(e.Y36(S.v),e.Y36(T._W))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-checkout-review"]],inputs:{appStepper:"appStepper"},decls:9,vars:1,consts:[[1,"mt-4"],[3,"isBasket"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-danger"],[1,"fa","fa-angle-left"],["cdkStepperNext","",1,"btn","btn-danger",3,"click"],[1,"fa","fa-angle-right"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-basket-summary",1),e.qZA(),e.TgZ(2,"div",2)(3,"button",3),e._UZ(4,"i",4),e._uU(5," Delivery "),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.CreatePaymentIntent()}),e._uU(7," Payment "),e._UZ(8,"i",6),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("isBasket",!1))},dependencies:[d.st,d.po,V.b]});var I="https://js.stripe.com/v3",z=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,J="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",F=null,$=function(t,r,n){if(null===t)return null;var i=t.apply(void 0,r);return function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"1.47.0",startTime:r})}(i,n),i},q=Promise.resolve().then(function(){return t=null,null!==F||(F=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u")r(null);else if(window.Stripe&&t&&console.warn(J),window.Stripe)r(window.Stripe);else try{var i=function(){for(var t=document.querySelectorAll('script[src^="'.concat(I,'"]')),r=0;r<t.length;r++){var n=t[r];if(z.test(n.src))return n}return null}();i&&t?console.warn(J):i||(i=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(I).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n}(t)),i.addEventListener("load",function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(a){return void n(a)}})),F;var t}),P=!1;q.catch(function(o){P||console.warn(o)});var te=c(6805),re=c(930);const oe=["cardNumber"],ie=["cardExpiry"],se=["cardCvc"];function ce(o,t){1&o&&e._UZ(0,"i",25)}function ae(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"app-text-inputs",12),e.qZA()(),e.TgZ(4,"div",13)(5,"div",14)(6,"div",15),e._UZ(7,"div",16,17),e.TgZ(9,"label"),e._uU(10,"Card Number"),e.qZA(),e.TgZ(11,"span",18),e._uU(12),e.qZA()()(),e.TgZ(13,"div",19)(14,"div",15),e._UZ(15,"div",16,20),e.TgZ(17,"label"),e._uU(18,"Card Expiry"),e.qZA()()(),e.TgZ(19,"div",19)(20,"div",15),e._UZ(21,"div",16,21),e.qZA()()(),e.TgZ(23,"div",22)(24,"button",23),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.OrderSubmission())}),e._uU(25," Submit "),e.YNc(26,ce,1,0,"i",24),e.qZA()()()}if(2&o){const r=e.oxw();e.Q6J("formGroup",r.checkOutForm),e.xp6(12),e.Oqu(r.cardErrors),e.xp6(12),e.Q6J("disabled",r.loading||!r.paymentIsComplete),e.xp6(2),e.Q6J("ngIf",r.loading)}}class k{constructor(t,r,n,i){this.basketService=t,this.checkOutService=r,this.toastr=n,this.router=i,this.errors=null,this.stripe=null,this.cardNumberComplete=!1,this.cardExpiryComplete=!1,this.cvcComplete=!1,this.loading=!1}ngOnInit(){this.year=(new Date).getFullYear(),this.yearSub=Number(this.year.toString().substring(2,4)),function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];P=!0;var i=Date.now();return q.then(function(a){return $(a,r,i)})}("pk_test_51Mcx2FB7QPlKfZO42IAdvFhiWvLmJJqyarpwQZYE8Mes7QioM5QNIme3OPI0KBP7tnLRf43CLRSzmCa0xzv37VmJ00VDpXrD7T").then(t=>{this.stripe=t;const r=t?.elements();r&&(this.cardNumber=r.create("cardNumber"),this.cardNumber.mount(this.cardNumberElement?.nativeElement),this.cardNumber.on("change",n=>{this.cardNumberComplete=n.complete,this.cardErrors=n.error?n.error.message:null}),this.cardExpiry=r.create("cardExpiry"),this.cardExpiry.mount(this.cardExpiryElement?.nativeElement),this.cardExpiry.on("change",n=>{this.cardExpiryComplete=n.complete,this.cardErrors=n.error?n.error.message:null}),this.cvc=r.create("cardCvc"),this.cvc.mount(this.cvcElement?.nativeElement),this.cvc.on("change",n=>{this.cvcComplete=n.complete,this.cardErrors=n.error?n.error.message:null}))})}get paymentIsComplete(){return this.checkOutForm.get("paymentForm")?.valid&&this.cardNumberComplete&&this.cardExpiryComplete&&this.cvcComplete}ConfirmPaymentUsingStripe(t){var r=this;return A(function*(){if(!t)throw new Error("basket is null");const n=r.stripe?.confirmCardPayment(t.clientSecret,{payment_method:{card:r.cardNumber,billing_details:{name:r.checkOutForm?.get("paymentForm")?.get("nameOnCard")?.value}}});if(!n)throw new Error("problem confirming problem with stripe");return n})()}GetOrderDetails(t){const r=this.checkOutForm?.get("addressForm")?.value;if(!r)throw new Error("No Address added");return{basketId:t.id,deliveryId:t.deliveryId,shippingAddress:r}}CreateOrder(t){var r=this;return A(function*(){if(!t)throw new Error("basket is null");const n=r.GetOrderDetails(t);return function ne(o,t){const r="object"==typeof t;return new Promise((n,i)=>{const a=new re.Hp({next:l=>{n(l),a.unsubscribe()},error:i,complete:()=>{r?n(t.defaultValue):i(new te.K)}});o.subscribe(a)})}(r.checkOutService.CreateAnOrder(n))})()}OrderSubmission(){var t=this;return A(function*(){t.loading=!0;const r=t.basketService.CurrentBasket();if(!r)throw new Error("Cannot get basket");try{const n=yield t.CreateOrder(r),i=yield t.ConfirmPaymentUsingStripe(r);i.paymentIntent?(t.basketService.DeleteBasket(r),t.router.navigate(["Checkout/success"],{state:n})):t.toastr.error(i.error.message)}catch(n){t.toastr.error(n.message)}finally{t.loading=!1}})()}}k.\u0275fac=function(t){return new(t||k)(e.Y36(S.v),e.Y36(f),e.Y36(T._W),e.Y36(p.F0))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-checkout-payment"]],viewQuery:function(t,r){if(1&t&&(e.Gf(oe,5),e.Gf(ie,5),e.Gf(se,5)),2&t){let n;e.iGM(n=e.CRH())&&(r.cardNumberElement=n.first),e.iGM(n=e.CRH())&&(r.cardExpiryElement=n.first),e.iGM(n=e.CRH())&&(r.cvcElement=n.first)}},inputs:{checkOutForm:"checkOutForm"},decls:30,vars:2,consts:[["class","mt-4",3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-between","flex-row","mb-5"],["cdkStepperPrevious","",1,"btn","btn-danger"],[1,"fa","fa-angle-left"],[2,"font-weight","bolder"],["onmouseover","this.stop();","onmouseout","this.start();"],[2,"color","red"],[2,"color","blue","font-weight","bolder"],[2,"color","black","font-weight","bold"],[1,"mt-4",3,"formGroup"],[1,"row"],["formGroupName","paymentForm",1,"form-group","col-12"],["label","Name on card","formControlName","nameOnCard"],[1,"row","mb-2"],[1,"col-6"],[1,"form-floating"],[1,"form-control"],["cardNumber",""],[1,"btn-danger"],[1,"col-3"],["cardExpiry",""],["cardCvc",""],[1,"row","mt-3","mb-4","justify-content-center"],[1,"btn","btn-success",2,"width","30%",3,"disabled","click"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(t,r){1&t&&(e.YNc(0,ae,27,4,"div",0),e.TgZ(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e._uU(4," Review "),e.qZA()(),e.TgZ(5,"div",4)(6,"marquee",5),e._uU(7," Click me to pause.."),e.TgZ(8,"strong",6),e._uU(9," Warning!!! "),e.qZA(),e._uU(10," Do not use your personal card details for testing this payment. I will not be liabl for any misuse personal information. For your safety and testing purpose, use this free stripe card details: "),e.TgZ(11,"strong",7),e._uU(12,"Card Number: "),e.TgZ(13,"strong",8),e._uU(14,"4000 0027 6000 3184"),e.qZA()(),e._uU(15," for successful or failed payment; or "),e.TgZ(16,"strong",7),e._uU(17,"Card Number: "),e.TgZ(18,"strong",8),e._uU(19,"4242 4242 4242 4242"),e.qZA()(),e._uU(20," for pending transaction; "),e.TgZ(21,"strong",7),e._uU(22,"Card Expiry: "),e.TgZ(23,"strong",8),e._uU(24),e.qZA()(),e._uU(25,"; "),e.TgZ(26,"strong",7),e._uU(27,"CVC: "),e.TgZ(28,"strong",8),e._uU(29,"123"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",r.checkOutForm),e.xp6(24),e.hij("01/",r.yearSub+1,""))},dependencies:[u.O5,s.JJ,s.JL,s.sg,s.u,s.x0,O.x,d.po]});class Z{constructor(t,r,n){this.fb=t,this.accountService=r,this.basketService=n,this.errors=null,this.checkOutForm=this.fb.group({addressForm:this.fb.group({firstName:["",s.kI.required],middleName:[""],lastName:["",s.kI.required],street:["",s.kI.required],city:["",s.kI.required],country:["",s.kI.required],zipcode:["",s.kI.required],phone:["",s.kI.required]}),deliveryForm:this.fb.group({delivery:[""]}),paymentForm:this.fb.group({nameOnCard:["",s.kI.required]})})}ngOnInit(){this.AttachAddress(),this.AttachDelivery()}AttachAddress(){const t=localStorage.getItem("token");this.accountService.GetAddress(t).subscribe({next:r=>{r&&this.checkOutForm?.get("addressForm")?.patchValue(r)}})}AttachDelivery(){const t=this.basketService.CurrentBasket();t&&t.deliveryId&&this.checkOutForm.get("deliveryForm")?.get("delivery")?.patchValue(t.deliveryId.toString())}}function le(o,t){if(1&o&&(e.TgZ(0,"button",5),e._uU(1," View your order "),e.qZA()),2&o){const r=e.oxw();e.MGl("routerLink","/orders/",r.order.id,"")}}function ue(o,t){1&o&&(e.TgZ(0,"button",6),e._uU(1," View your orders "),e.qZA())}Z.\u0275fac=function(t){return new(t||Z)(e.Y36(s.qu),e.Y36(U.N),e.Y36(S.v))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-checkout"]],decls:15,vars:9,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-8"],["appStepper",""],[3,"label","completed"],[3,"checkOutForm"],[3,"deliveryForm"],[3,"label"],[1,"col-4"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-stepper",null,3)(5,"cdk-step",4),e._UZ(6,"app-checkout-address",5),e.qZA(),e.TgZ(7,"cdk-step",4),e._UZ(8,"app-checkout-delivery",6),e.qZA(),e.TgZ(9,"cdk-step",7),e._UZ(10,"app-checkout-review"),e.qZA(),e.TgZ(11,"cdk-step",7),e._UZ(12,"app-checkout-payment",5),e.qZA()()(),e.TgZ(13,"div",8),e._UZ(14,"app-order-total"),e.qZA()()()),2&t){let n,i;e.xp6(5),e.Q6J("label","Address")("completed",null==(n=r.checkOutForm.get("addressForm"))?null:n.valid),e.xp6(1),e.Q6J("checkOutForm",r.checkOutForm),e.xp6(1),e.Q6J("label","Shipping")("completed",null==(i=r.checkOutForm.get("deliveryForm"))?null:i.valid),e.xp6(1),e.Q6J("deliveryForm",r.checkOutForm),e.xp6(1),e.Q6J("label","Review"),e.xp6(2),e.Q6J("label","Payment"),e.xp6(1),e.Q6J("checkOutForm",r.checkOutForm)}},dependencies:[Q.V,m,d.be,b,y,C,k]});class _{constructor(t){this.router=t;const r=this.router.getCurrentNavigation();this.order=r?.extras?.state}}_.\u0275fac=function(t){return new(t||_)(e.Y36(p.F0))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-success"]],decls:9,vars:2,consts:[[1,"container","mt-5"],[1,"fa","fa-check-circle","fa-5x",2,"color","green"],[1,"mb-4"],["class","btn btn-outline-success",3,"routerLink",4,"ngIf"],["routerLink","/orders","class","btn btn-outline-success",4,"ngIf"],[1,"btn","btn-outline-success",3,"routerLink"],["routerLink","/orders",1,"btn","btn-outline-success"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div"),e._UZ(2,"i",1),e.qZA(),e.TgZ(3,"h2"),e._uU(4,"Thank you. Your order is confirmed"),e.qZA(),e.TgZ(5,"p",2),e._uU(6,"Pending shipment, but this is to be expected as we a re not a real store!"),e.qZA(),e.YNc(7,le,2,1,"button",3),e.YNc(8,ue,2,0,"button",4),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",r.order),e.xp6(1),e.Q6J("ngIf",!r.order))},dependencies:[u.O5,p.rH]});const de=[{path:"",component:Z},{path:"success",component:_}];class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[p.Bz.forChild(de),p.Bz]});var pe=c(9661);class v{}v.\u0275fac=function(t){return new(t||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[u.ez,h,pe.B,p.Bz]})}}]);