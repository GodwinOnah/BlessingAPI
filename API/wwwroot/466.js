"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[466],{8466:(ot,q,l)=>{l.r(q),l.d(q,{AdminModule:()=>_});var a=l(6895),n=l(433),t=l(1571),p=l(202),c=l(5989),u=l(7185),N=l(2340),I=l(1135),O=l(529);class m{constructor(r,e,i){this.http=r,this.router=e,this.toastr=i,this.advertSource=new I.X(null),this.adverts$=this.advertSource.asObservable(),this.baseUrl=N.N.apiUrl}submitAdvert(r){return this.http.post(this.baseUrl+"advert",r)}getAdvertsById(r){return this.http.get(this.baseUrl+"advert/"+r)}getAdverts(){return this.http.get(this.baseUrl+"advert")}deleteAdverts(r){return this.http.delete(this.baseUrl+"advert/"+r)}}m.\u0275fac=function(r){return new(r||m)(t.LFG(O.eN),t.LFG(p.F0),t.LFG(u._W))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var f=l(5019);class v{constructor(r,e,i,s,d){this.formbuilder=r,this.router=e,this.matdialog=i,this.toastr=s,this.advert=d,this.errors=null,this.advertForm=this.formbuilder.group({advert:["",[n.kI.required]],time:[""]})}submitAdvert(){this.advert.submitAdvert(this.advertForm.value).subscribe({next:r=>{this.closeDialog(),this.toastr.success("Advert added"),window.location.reload()},error:r=>{this.errors=r.errors,this.toastr.success("Advert not added")}})}closeDialog(){this.matdialog.closeAll()}}v.\u0275fac=function(r){return new(r||v)(t.Y36(n.qu),t.Y36(p.F0),t.Y36(c.uw),t.Y36(u._W),t.Y36(m))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-adverts"]],decls:14,vars:7,consts:[[2,"background-color","lightgray","padding-bottom","20px","border","3px solid green"],[1,"align-content-left"],["mat-dialog-close","",1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px"],[1,"text-center",2,"color","blue","padding","0"],[1,"d-flex","justify-content-center",2,"width","auto","height","auto"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],[3,"formControl","type","label"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Enter Advert Now"),t.qZA()(),t.TgZ(7,"div",4)(8,"form",5),t.NdJ("ngSubmit",function(){return e.submitAdvert()}),t.TgZ(9,"div",6),t._UZ(10,"app-text-inputs",7)(11,"app-text-inputs",8),t.TgZ(12,"button",9),t._uU(13," Add "),t.qZA()()()()()),2&r&&(t.xp6(8),t.Q6J("formGroup",e.advertForm),t.xp6(2),t.Q6J("formControl",e.advertForm.controls.advert)("label","Enter text"),t.xp6(1),t.Q6J("formControl",e.advertForm.controls.time)("type","number")("label","Lifespan(seconds)"),t.xp6(1),t.Q6J("disabled",e.advertForm.invalid))},dependencies:[n._Y,n.JJ,n.JL,n.oH,n.sg,f.x,c.ZT]});var C=l(1330);function w(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function J(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,w,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}class b{constructor(r,e,i,s,d){this.formbuilder=r,this.matdialog=e,this.toastr=i,this.http=s,this.oderService=d,this.errors=null,this.deliveries=[],this.delForm=this.formbuilder.group({delName:["",n.kI.required],delTime:["",n.kI.required],delDescription:["",n.kI.required],delPrice:["",n.kI.required]})}ngOnInit(){this.GetDelivery()}onSubmit(){const r=this.deliveries.find(e=>e==this.delForm?.get("delTime")?.value);console.log(r),r?this.toastr.success("Delivery already exist"):this.oderService.AddDelivery(this.delForm.value).subscribe({next:e=>1==e?(this.closeDialog(),window.location.reload(),this.toastr.success("Delivery Added")):this.toastr.success("Delivery not added"),error:e=>{this.toastr.success("Check your server"),this.errors=e.errors}})}closeDialog(){this.matdialog.closeAll()}GetDelivery(){this.oderService.getDelivery().subscribe({next:r=>{for(let e of r)this.deliveries.push(e.delTime.substring(0,1))},error:r=>console.log(r)})}}b.\u0275fac=function(r){return new(r||b)(t.Y36(n.qu),t.Y36(c.uw),t.Y36(u._W),t.Y36(O.eN),t.Y36(C.N))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-add-delivery"]],decls:21,vars:11,consts:[[2,"background-color","lightgray","padding-bottom","40px","border","5px solid skyblue"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Add new delivery"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8)(12,"app-text-inputs",8)(13,"app-text-inputs",8)(14,"app-text-inputs",8),t.qZA(),t.TgZ(15,"div"),t.YNc(16,J,2,1,"ul",9),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"div",10)(19,"button",11),t._uU(20," Add "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.delForm),t.xp6(2),t.Q6J("formControl",e.delForm.controls.delName)("label","Name of delivery"),t.xp6(1),t.Q6J("formControl",e.delForm.controls.delTime)("label","Time(days)"),t.xp6(1),t.Q6J("formControl",e.delForm.controls.delDescription)("label","Describe delivery"),t.xp6(1),t.Q6J("formControl",e.delForm.controls.delPrice)("label","Price"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.delForm.invalid))},dependencies:[a.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,f.x]});var g=l(8232);function P(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function F(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,P,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}class x{constructor(r,e,i,s,d){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=d,this.errors=null,this.ids=[],this.names=[],this.maxId=0,this.brandForm=this.formbuilder.group({Name:["",n.kI.required]})}ngOnInit(){this.GetProductBrands()}onSubmit(){this.names.find(e=>e.toLowerCase()===this.brandForm?.get("Name")?.value.toLowerCase())&&this.toastr.success("Brand already exist"),this.productsService.UploadBrand(this.maxId+1,this.brandForm?.get("Name")?.value).subscribe({next:()=>{this.toastr.success("New brand added"),window.location.reload()},error:e=>{this.toastr.success("Not added"),this.errors=e.errors}})}closeDialog(){this.matdialog.closeAll()}GetProductBrands(){this.prodshopmodService.getBrands().subscribe({next:r=>{for(let e of r)this.ids.push(e.id),this.names.push(e.name);this.maxId=this.ids.reduce((e,i)=>Math.max(e,i))},error:r=>console.log(r)})}}function S(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function D(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,S,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}x.\u0275fac=function(r){return new(r||x)(t.Y36(n.qu),t.Y36(g.h),t.Y36(u._W),t.Y36(c.uw),t.Y36(g.h))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-product-brand"]],decls:18,vars:5,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Add product brand"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.qZA(),t.TgZ(12,"div"),t.YNc(13,F,2,1,"ul",9),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",10)(16,"button",11),t._uU(17," Add Brand "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.brandForm),t.xp6(2),t.Q6J("formControl",e.brandForm.controls.Name)("label","Brand name"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.brandForm.invalid))},dependencies:[a.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,f.x]});class Z{constructor(r,e,i,s,d){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=d,this.errors=null,this.ids=[],this.names=[],this.maxId=0,this.typeForm=this.formbuilder.group({Name:["",n.kI.required]})}ngOnInit(){this.GetProductTypes()}onSubmit(){this.names.find(e=>e.toLowerCase()===this.typeForm?.get("Name")?.value.toLowerCase())?this.toastr.success("Type already exist"):this.productsService.UploadType(this.maxId+1,this.typeForm?.get("Name")?.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("New product type added")},error:e=>{this.toastr.success("Not uadded"),this.errors=e.errors}})}closeDialog(){this.matdialog.closeAll()}GetProductTypes(){this.prodshopmodService.getProductTypes().subscribe({next:r=>{for(let e of r)this.ids.push(e.id),this.names.push(e.name);this.maxId=this.ids.reduce((e,i)=>Math.max(e,i))},error:r=>console.log(r)})}}function Y(o,r){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"input",19),t.TgZ(2,"label",20),t._uU(3),t.qZA()()),2&o){const e=r.$implicit,i=t.oxw();t.Q6J("formGroup",i.productForm),t.xp6(1),t.s9C("id",e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for",e.id),t.xp6(1),t.Oqu(e.name)}}function k(o,r){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"input",21),t.TgZ(2,"label",20),t._uU(3),t.qZA()()),2&o){const e=r.$implicit,i=t.oxw();t.Q6J("formGroup",i.productForm),t.xp6(1),t.s9C("id",e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for",e.id),t.xp6(1),t.Oqu(e.name)}}function Q(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function G(o,r){if(1&o&&(t.TgZ(0,"ul",22),t.YNc(1,Q,2,1,"li",23),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}Z.\u0275fac=function(r){return new(r||Z)(t.Y36(n.qu),t.Y36(g.h),t.Y36(u._W),t.Y36(c.uw),t.Y36(g.h))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-product-type"]],decls:18,vars:5,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Add Product Type"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.qZA(),t.TgZ(12,"div"),t.YNc(13,D,2,1,"ul",9),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",10)(16,"button",11),t._uU(17," Add Type "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.typeForm),t.xp6(2),t.Q6J("formControl",e.typeForm.controls.Name)("label","Type name"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.typeForm.invalid))},dependencies:[a.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,f.x]});class A{constructor(r,e,i,s,d){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=d,this.errors=null,this.brands=[],this.types=[],this.prodName=[],this.prodBrand=[],this.prodType=[],this.prodPictureUrl="",this.formdata=null,this.productForm=this.formbuilder.group({prodName:["",n.kI.required],prodPicture:["",n.kI.required],prodDescription:["",n.kI.required],prodPrice:["",n.kI.required],productBrandId:["",n.kI.required],productTypeId:["",n.kI.required]})}ngOnInit(){this.GetProductBrands(),this.GetProductTypes(),this.GetProducts()}onSubmit(){this.productsService.saveProductPicture(this.formdata).subscribe({next:()=>{this.toastr.success("Picture saved"),this.sendData()},error:r=>{this.toastr.success("Picture not saved"),this.errors=r.errors}})}sendData(){const r=this.prodName.find(i=>i.toLowerCase()===this.productForm?.get("prodName")?.value.toLowerCase()),e=this.prodType.find(i=>i===this.productForm?.get("prodPrice")?.value);r&&e?this.toastr.success("Product already exist"):this.productsService.UploadProduct(this.productForm.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("Product uploaded")},error:i=>{this.toastr.success("Not uploaded"),this.errors=i.errors}})}closeDialog(){this.matdialog.closeAll()}GetProducts(){this.prodshopmodService.getProducts().subscribe({next:r=>{for(let e of r.data)this.prodName.push(e.prodName),this.prodBrand.push(e.productBrand),this.prodType.push(e.productType)},error:r=>console.log(r)})}GetProductBrands(){this.prodshopmodService.getBrands().subscribe({next:r=>{this.brands=r},error:r=>console.log(r)})}GetProductTypes(){this.prodshopmodService.getProductTypes().subscribe({next:r=>{this.types=r},error:r=>console.log(r)})}uploadPicture(r){if(r.target.files.length>0){const i=r.target.files[0];var e=new FormData;e.append("myFiles",i),this.formdata=e}}}A.\u0275fac=function(r){return new(r||A)(t.Y36(n.qu),t.Y36(g.h),t.Y36(u._W),t.Y36(c.uw),t.Y36(g.h))},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-items"]],decls:30,vars:15,consts:[[2,"background-color","lightgray","padding-bottom","40px","border","5px solid skyblue"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],[3,"formControl","type","label","change"],[3,"formControl","type","label"],[1,"row"],[1,"col-6"],[2,"font-weight","bolder"],["class","d-flex",3,"formGroup",4,"ngFor","ngForOf"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"d-flex",3,"formGroup"],["formControlName","productBrandId","name","productBrandId","type","radio",3,"id","value"],[3,"for"],["formControlName","productTypeId","name","productTypeId","type","radio",3,"id","value"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Product Upload Page"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.TgZ(12,"app-text-inputs",9),t.NdJ("change",function(s){return e.uploadPicture(s)}),t.qZA(),t._UZ(13,"app-text-inputs",8)(14,"app-text-inputs",10),t.TgZ(15,"div",11)(16,"div",12)(17,"strong",13),t._uU(18," Brand"),t.qZA(),t.YNc(19,Y,4,5,"div",14),t.qZA(),t.TgZ(20,"div",12)(21,"strong",13),t._uU(22,"Type"),t.qZA(),t.YNc(23,k,4,5,"div",14),t.qZA()()(),t.TgZ(24,"div"),t.YNc(25,G,2,1,"ul",15),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"div",16)(28,"button",17),t._uU(29," Upload Product "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.productForm),t.xp6(2),t.Q6J("formControl",e.productForm.controls.prodName)("label","Product Name"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPicture)("type","file")("label","Product Picture"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodDescription)("label","Product Description"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPrice)("type","number")("label","Price"),t.xp6(5),t.Q6J("ngForOf",e.brands),t.xp6(4),t.Q6J("ngForOf",e.types),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.productForm.invalid))},dependencies:[a.sg,a.O5,n._Y,n.Fj,n._,n.JJ,n.JL,n.oH,n.sg,n.u,f.x]});var B=l(5132);function M(o,r){1&o&&(t.TgZ(0,"div",3)(1,"strong",4),t._uU(2," Sorry!!! Only the admin can access this page "),t.TgZ(3,"p"),t._uU(4,"Why not continue by clicking products and making orders.."),t.qZA()()())}function L(o,r){1&o&&(t.ynx(0),t.TgZ(1,"strong",20),t._uU(2,"No order(s) fron a customer by this time."),t.qZA(),t.BQk())}function j(o,r){if(1&o&&(t.TgZ(0,"tr",21)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()()),2&o){const e=r.$implicit;t.MGl("routerLink","/Admin/",e.id,""),t.xp6(2),t.Oqu(e.adminOrderId),t.xp6(2),t.hij("",e.shippingAddress.firstName+" "+e.shippingAddress.middleName+" "+e.shippingAddress.lastName," "),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.shippingAddress.phone),t.xp6(2),t.Oqu(t.xi3(11,8,e.orderDate,"medium")),t.xp6(3),t.Oqu(e.orderStatus),t.xp6(2),t.Oqu(e.confirmation)}}function $(o,r){1&o&&(t.TgZ(0,"div")(1,"strong",22),t._uU(2,"No delivery available"),t.qZA()())}function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"Strong"),t._uU(2," Name: "),t.TgZ(3,"strong",22),t._uU(4),t.qZA(),t._uU(5," , Time: "),t.TgZ(6,"strong",22),t._uU(7),t.qZA(),t._uU(8,", Price: "),t.TgZ(9,"strong",22),t._uU(10),t.qZA(),t.TgZ(11,"button",25),t.NdJ("click",function(){const d=t.CHM(e).$implicit,U=t.oxw(4);return t.KtG(U.deleteDelivery(d.id))}),t._uU(12,"Delete"),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(4),t.Oqu(e.delName),t.xp6(3),t.Oqu(e.delTime),t.xp6(3),t.hij("\xa3",e.delPrice,"")}}function E(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"h2",23),t._uU(2,"List of deliveries available"),t.qZA(),t.YNc(3,H,13,3,"div",24),t.BQk()),2&o){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.deliveries)}}function W(o,r){1&o&&(t.TgZ(0,"div")(1,"strong",22),t._uU(2,"No advert available"),t.qZA()())}function R(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"marquee",26)(2,"strong")(3,"strong",27),t._uU(4),t.qZA(),t.TgZ(5,"button",25),t.NdJ("click",function(){const d=t.CHM(e).$implicit,U=t.oxw(4);return t.KtG(U.deleteAdvert(d.id))}),t._uU(6,"delete"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(4),t.Oqu(e.advert)}}function X(o,r){if(1&o&&(t.ynx(0),t.YNc(1,R,7,1,"div",24),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.advertsString)}}function z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"h1",3)(2,"strong",6),t._uU(3," You are the Admin"),t.qZA()(),t.TgZ(4,"marquee",7),t._uU(5,"Now that you've login as the admin, you can delete any product on the product page; add advert(s) to the end of the display strings on the product page; add and remove brands and types; confirm or delete order, etc. Thanks. Thanks"),t.qZA(),t.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"table",11)(10,"thead",12)(11,"tr")(12,"th"),t._uU(13,"ORDER"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"CUSTOMER NAME"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"CUSTOMER EMAIL"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"CUSTOMER PHONE"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"DATE"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"STATUS"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"CONFIRMATION"),t.qZA()()(),t.TgZ(26,"tbody")(27,"tr")(28,"div",3),t.YNc(29,L,3,0,"ng-container",0),t.qZA()(),t.YNc(30,j,16,11,"tr",13),t.qZA()()()()(),t.TgZ(31,"div",14)(32,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadProduct())}),t._uU(33," Upload new product here "),t.qZA(),t.TgZ(34,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadType())}),t._uU(35," Add product type here "),t.qZA(),t.TgZ(36,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadBrand())}),t._uU(37," Add product brand here "),t.qZA()(),t.TgZ(38,"div",16)(39,"div",17),t.YNc(40,$,3,0,"div",0),t.YNc(41,E,4,1,"ng-container",0),t.qZA(),t.TgZ(42,"div",3)(43,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openAddDelivery())}),t._uU(44," Add new delivery "),t.qZA()()(),t.TgZ(45,"div",18)(46,"h2"),t._uU(47,"Current Adverts"),t.qZA(),t.TgZ(48,"div",19),t.YNc(49,W,3,0,"div",0),t.YNc(50,X,2,1,"ng-container",0),t.qZA(),t.TgZ(51,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openAdvertDialog())}),t._uU(52," Add new adverts "),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(29),t.Q6J("ngIf",0==e.adminOrders.length),t.xp6(1),t.Q6J("ngForOf",e.adminOrders),t.xp6(10),t.Q6J("ngIf",0==e.delNotice),t.xp6(1),t.Q6J("ngIf",1==e.delNotice),t.xp6(8),t.Q6J("ngIf",1==e.notice),t.xp6(1),t.Q6J("ngIf",0==e.notice)}}function K(o,r){if(1&o&&(t.ynx(0),t.YNc(1,M,5,0,"div",1),t.YNc(2,z,53,6,"div",2),t.BQk()),2&o){const e=r.ngIf;t.xp6(1),t.Q6J("ngIf","godwinbillions@gmail.com"!=e.email),t.xp6(1),t.Q6J("ngIf","godwinbillions@gmail.com"==e.email)}}class T{constructor(r,e,i,s,d){this.matdialog=r,this.orderservice=e,this.toastr=i,this.accountService=s,this.advert=d,this.admin="",this.customerName="",this.adminOrders=[],this.confirm=!1,this.advertsString=[],this.errors=null,this.notice=!1,this.delNotice=!1,this.deliveries=[]}ngOnInit(){this.GetPaidOrders(),this.GetAdverts(),this.GetDelivery()}openUploadProduct(){this.closeDialog(),this.matdialog.open(A,{height:"auto",width:"80%"})}openUploadType(){this.closeDialog(),this.matdialog.open(Z,{height:"auto",width:"40%"})}closeDialog(){this.matdialog.closeAll()}openUploadBrand(){this.closeDialog(),this.matdialog.open(x,{height:"auto",width:"40%"})}openAddDelivery(){this.closeDialog(),this.matdialog.open(b,{height:"auto",width:"70%"})}openAdvertDialog(){this.closeDialog(),this.matdialog.open(v,{height:"auto",width:"40%"})}GetPaidOrders(){this.orderservice.GetAdminOrders().subscribe({next:r=>{this.adminOrders=r}})}confirmer(){this.confirm=!0}GetAdverts(){this.advert.getAdverts().subscribe({next:r=>{r&&(this.advertsString=r),0==r.length&&(this.exit=0,this.notice=!0);for(let e of r)this.exit=e.time,setInterval(()=>{this.deleteAdvert(e.id)},1e3*e.time)},error:r=>{this.errors=r.errors,this.toastr.success("Can't get advert Ids")}})}deleteDelivery(r){console.log(33),this.orderservice.deleteDelivery(r).subscribe({next:e=>{e&&(window.location.reload(),this.toastr.success("delivery deleted"))},error:e=>{this.errors=e.errors,this.toastr.success("Delivery not delivery")}})}deleteAdvert(r){this.advert.deleteAdverts(r).subscribe({next:e=>{e&&(this.toastr.success("Advert deleted"),window.location.reload())},error:e=>{this.errors=e.errors,this.toastr.success("Can't get advert Ids")}})}GetDelivery(){this.orderservice.getDelivery().subscribe({next:r=>{this.delNotice=!0,this.deliveries=r},error:r=>console.log(r)})}}T.\u0275fac=function(r){return new(r||T)(t.Y36(c.uw),t.Y36(C.N),t.Y36(u._W),t.Y36(B.N),t.Y36(m))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-admin"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","text-center",4,"ngIf"],["class","admin",4,"ngIf"],[1,"text-center"],[2,"color","red","font-weight","bolder","font-size","xx-large"],[1,"admin"],[2,"color","purple","font-weight","bolder"],["scrollamount","4"],[1,"container","mt-5",2,"margin-top","200px"],[1,"row"],[1,"col-12"],[1,"table","table-hover",2,"cursor","pointer"],[1,"thead-light"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"justify-content-center",2,"padding-bottom","50px"],[1,"btn","btn-primary","m-5",3,"click"],[2,"border","black 3px solid","border-radius","7px","padding","20px","margin","10px"],[1,"text-center",2,"background-color","grey","max-height","200px","width","80%","margin","0 auto","border-radius","20px","overflow","scroll"],[1,"text-center",2,"border","black 3px solid","border-radius","7px","padding","20px","margin","10px"],[2,"background-color","grey","max-height","100px","width","80%","margin","0 auto","border-radius","20px","overflow","scroll"],[2,"color","red"],[3,"routerLink"],[2,"color","white"],[2,"color","Blue"],[4,"ngFor","ngForOf"],[3,"click"],["scrollAmount","2","onmouseover","this.stop();","onmouseout","this.start();"],[2,"color","gold"]],template:function(r,e){1&r&&(t.YNc(0,K,3,2,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.accountService.AppUser$))},dependencies:[a.sg,a.O5,p.rH,a.Ov,a.uU],styles:[".admin[_ngcontent-%COMP%]{margin-top:100px}.container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow:scroll;margin-left:auto;border:2px solid black;border-radius:10px;background-color:#f5fffa;position:relative}"]});var V=l(8909);function tt(o,r){if(1&o&&(t.TgZ(0,"table",16)(1,"thead")(2,"tr")(3,"th",17)(4,"div",18),t._uU(5,"Product"),t.qZA()(),t.TgZ(6,"th",17)(7,"div",19),t._uU(8,"Price"),t.qZA()(),t.TgZ(9,"th",17)(10,"div",19),t._uU(11,"Quantity"),t.qZA()(),t.TgZ(12,"th",17)(13,"div",19),t._uU(14,"Total"),t.qZA()()()(),t.TgZ(15,"tbody")(16,"tr")(17,"th",20)(18,"div",21),t._UZ(19,"img",22),t.TgZ(20,"div",23)(21,"h5",24),t._uU(22),t.qZA()()()(),t.TgZ(23,"td",25)(24,"strong"),t._uU(25),t.qZA()(),t.TgZ(26,"td",25)(27,"span",26),t._uU(28),t.qZA()(),t.TgZ(29,"td",25)(30,"strong"),t._uU(31),t.qZA()()()()()),2&o){const e=r.$implicit;t.xp6(19),t.s9C("src",e.prodPicture,t.LSH),t.s9C("alt",e.prodName),t.xp6(3),t.hij(" ",e.prodName," "),t.xp6(3),t.hij("\xa3",e.itemPrice,""),t.xp6(3),t.Oqu(e.quantity),t.xp6(3),t.hij("\xa3",e.itemPrice*e.quantity,"")}}function et(o,r){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t.YNc(3,tt,32,6,"table",12),t.qZA()(),t.TgZ(4,"div",13)(5,"div",14),t._uU(6,"Delivery details "),t.qZA(),t.TgZ(7,"div")(8,"div",15)(9,"p")(10,"strong",3),t._uU(11,"Delivery Name: "),t.qZA(),t.TgZ(12,"strong",4),t._uU(13),t.qZA()(),t.TgZ(14,"p")(15,"strong",3),t._uU(16,"Delivery time: "),t.qZA(),t.TgZ(17,"strong",4),t._uU(18),t.qZA()()()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.itemOrdered),t.xp6(10),t.Oqu(e.order.delivery.delName),t.xp6(5),t.Oqu(e.order.delivery.delTime)}}class y{constructor(r,e,i,s,d){this.activatedroute=r,this.breadcrumbService=e,this.orderService=i,this.router=s,this.toastr=d,this.errors=null,this.confirm=!1,this.breadcrumbService.set("@OrderDetailed"," ")}ngOnInit(){this.ViewPaidOrder()}ViewPaidOrder(){const r=+this.activatedroute.snapshot.paramMap.get("id");r&&this.orderService.GetAdminOrdersById(r).subscribe({next:e=>{console.log(e.itemOrdered),"confirmed"===e.confirmation&&(this.confirm=!0),this.order=e,this.itemOrdered=e.itemOrdered,this.breadcrumbService.set("@OrderDetailed",`Order# ${e.id} - ${e.orderStatus}`)}})}deleteAdminOrder(r){this.orderService.DeleteAdminOrder(r).subscribe({next:e=>{e&&this.toastr.success("Order deleted"),this.router.navigateByUrl("/Admin")},error:e=>{this.toastr.success("Order not deleted"),this.errors=e.errors}})}OrderConfirmation(r){this.orderService.UpdateOrderConfirmation(r).subscribe({next:e=>{this.confirm=!0,e&&this.toastr.success("Order registered as confirmed on customer end"),this.router.navigateByUrl("/Admin")},error:e=>{this.toastr.success("Order not confirmed on customer end"),this.errors=e.errors}})}AdminOrderConfirmation(r,e){if("Confirmed"!=this.ButtonTxt){var i={id:r,Email:e};this.orderService.UpdateAdminOrderConfirmation(i).subscribe({next:s=>{this.confirm=!0,s&&(this.toastr.success("Order confirmed"),this.OrderConfirmation(i)),this.router.navigateByUrl("/Admin")},error:s=>{this.toastr.success("Order not yet confirmed by seller"),this.errors=s.errors}})}else this.toastr.success("Order already confirmed")}get ButtonTxt(){return 1==this.confirm?"Confirmed":"Confirm Order"}}y.\u0275fac=function(r){return new(r||y)(t.Y36(p.gz),t.Y36(V.pm),t.Y36(C.N),t.Y36(p.F0),t.Y36(u._W))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-order-details-paid"]],decls:48,vars:7,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"table",2,"border","3px solid red","width","auto"],[1,"info"],[1,"info2"],[1,"d-flex","justify-content-center"],[1,"text-center",2,"margin","20px"],[1,"btn","btn-success","text-center",2,"width","auto",3,"click"],[1,"text-center",2,"margin","20px","padding-bottom","100px"],[1,"row"],[1,"col-8"],[1,"table-responsive"],["class","table",4,"ngFor","ngForOf"],[1,"col-4"],[1,"bg-light","px-4","py-3","text-uppercase","font-weight-bold"],[1,"row","mt-2",2,"border","5px solid red","height","auto","width","auto"],[1,"table"],["scope","col",1,"border-0","bg-light"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],["scope","row"],[1,"p-2"],[1,"i","mg-fluid",2,"max-height","50px",3,"src","alt"],[1,"ml-3","d-inline-block","align-middle"],[1,"mb-0"],[1,"align-middle"],[1,"font-weight-bold","px-2"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.YNc(1,et,19,3,"div",1),t.TgZ(2,"div")(3,"strong"),t._uU(4,"Customer address details"),t.qZA(),t.TgZ(5,"table",2)(6,"tr")(7,"td")(8,"strong",3),t._uU(9,"Street: "),t.qZA()(),t.TgZ(10,"td")(11,"strong",4),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"td")(15,"strong",3),t._uU(16,"City: "),t.qZA()(),t.TgZ(17,"td")(18,"strong",4),t._uU(19),t.qZA()()(),t.TgZ(20,"tr")(21,"td")(22,"strong",3),t._uU(23,"Zipcode: "),t.qZA()(),t.TgZ(24,"td")(25,"strong",4),t._uU(26),t.qZA()()(),t.TgZ(27,"tr")(28,"td")(29,"strong",3),t._uU(30,"Country: "),t.qZA()(),t.TgZ(31,"td")(32,"strong",4),t._uU(33),t.qZA()()(),t.TgZ(34,"tr")(35,"td")(36,"strong",3),t._uU(37,"Phone: "),t.qZA()(),t.TgZ(38,"td")(39,"strong",4),t._uU(40),t.qZA()()()()(),t.TgZ(41,"div",5)(42,"div",6)(43,"button",7),t.NdJ("click",function(){return e.AdminOrderConfirmation(e.order.id,e.order.email)}),t._uU(44),t.qZA()(),t.TgZ(45,"div",8)(46,"button",7),t.NdJ("click",function(){return e.deleteAdminOrder(e.order.id)}),t._uU(47," Delete "),t.qZA()()()()),2&r&&(t.xp6(1),t.Q6J("ngIf",e.order),t.xp6(11),t.Oqu(e.order.shippingAddress.street),t.xp6(7),t.Oqu(e.order.shippingAddress.city),t.xp6(7),t.Oqu(e.order.shippingAddress.zipcode),t.xp6(7),t.Oqu(e.order.shippingAddress.country),t.xp6(7),t.Oqu(e.order.shippingAddress.phone),t.xp6(4),t.hij(" ",e.ButtonTxt,""))},styles:[".info[_ngcontent-%COMP%]{font-weight:bolder;color:#000}.info2[_ngcontent-%COMP%]{font-weight:700;color:purple}"]});const rt=[{path:"",component:T},{path:":id",component:y,data:{breadcrumb:{alias:"OrderDetails"}}}];class h{}h.\u0275fac=function(r){return new(r||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[p.Bz.forChild(rt),p.Bz]});class _{}_.\u0275fac=function(r){return new(r||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[a.ez,h,c.Is]})}}]);